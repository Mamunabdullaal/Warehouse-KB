<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Temu Warehouse Rules</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f5f7fa;
            color: #333;
            line-height: 1.6;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            background-color: #1e3a8a;
            color: white;
            padding: 20px 0;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .logo i {
            font-size: 28px;
            color: #fbbf24;
        }
        
        .logo h1 {
            font-size: 24px;
            font-weight: 700;
        }
        
        .search-container {
            position: relative;
            width: 40%;
        }
        
        .search-container input {
            width: 100%;
            padding: 10px 40px 10px 15px;
            border-radius: 25px;
            border: none;
            background-color: rgba(255,255,255,0.9);
            font-size: 16px;
            outline: none;
        }
        
        .search-container i {
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: #1e3a8a;
        }
        
        .dashboard {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }
        
        .category-card {
            background: white;
            border-radius: 10px;
            padding: 25px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.05);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            cursor: pointer;
        }
        
        .category-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px rgba(0,0,0,0.1);
        }
        
        .category-card i {
            font-size: 40px;
            color: #1e3a8a;
            margin-bottom: 15px;
        }
        
        .category-card h3 {
            font-size: 20px;
            margin-bottom: 10px;
            color: #1e3a8a;
        }
        
        .category-card p {
            color: #666;
            font-size: 14px;
        }
        
        .rules-container {
            margin-top: 30px;
            display: none;
        }
        
        .rules-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .back-btn {
            background: #1e3a8a;
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 5px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 16px;
        }
        
        .back-btn:hover {
            background: #1e2a6a;
        }
        
        .rule-card {
            background: white;
            border-radius: 10px;
            padding: 25px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.05);
            margin-bottom: 20px;
        }
        
        .rule-card h3 {
            color: #1e3a8a;
            margin-bottom: 15px;
            font-size: 22px;
        }
        
        .rule-update {
            background: #e0f2fe;
            color: #0c4a6e;
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 14px;
            display: inline-block;
            margin-bottom: 15px;
        }
        
        .step {
            margin-bottom: 25px;
            padding-bottom: 20px;
            border-bottom: 1px solid #eee;
        }
        
        .step:last-child {
            border-bottom: none;
        }
        
        .step h4 {
            color: #1e3a8a;
            margin-bottom: 10px;
            font-size: 18px;
        }
        
        .step ul, .step ol {
            margin-left: 20px;
            margin-bottom: 10px;
        }
        
        .step li {
            margin-bottom: 8px;
        }
        
        .note {
            background: #fef3c7;
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
        }
        
        .note h5 {
            color: #92400e;
            margin-bottom: 10px;
        }
        
        .highlight {
            background: #fef3c7;
            padding: 2px 4px;
            border-radius: 3px;
            font-weight: bold;
        }
        
        .search-results {
            margin-top: 30px;
            display: none;
        }
        
        .search-result-item {
            background: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.05);
            margin-bottom: 15px;
            cursor: pointer;
        }
        
        .search-result-item:hover {
            background: #f0f7ff;
        }
        
        .search-result-item h3 {
            color: #1e3a8a;
            margin-bottom: 10px;
        }
        
        .search-result-item p {
            color: #666;
            font-size: 14px;
        }
        
        .no-results {
            text-align: center;
            padding: 40px;
            color: #666;
        }
        
        .example-box {
            background: #f0f7ff;
            border-left: 4px solid #1e3a8a;
            padding: 15px;
            margin: 15px 0;
            border-radius: 0 8px 8px 0;
        }
        
        .example-box h5 {
            color: #1e3a8a;
            margin-bottom: 10px;
        }
        
        .scenario {
            background: #f0fdf4;
            border-left: 4px solid #16a34a;
            padding: 15px;
            margin: 15px 0;
            border-radius: 0 8px 8px 0;
        }
        
        .scenario h4 {
            color: #16a34a;
            margin-bottom: 10px;
        }
        
        .product-rule {
            background: #f0f9ff;
            border-left: 4px solid #0284c7;
            padding: 15px;
            margin: 15px 0;
            border-radius: 0 8px 8px 0;
        }
        
        .product-rule h4 {
            color: #0284c7;
            margin-bottom: 10px;
        }
        
        .deduction-table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
        }
        
        .deduction-table th, .deduction-table td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }
        
        .deduction-table th {
            background-color: #f2f2f2;
        }
        
        .loading {
            text-align: center;
            padding: 40px;
            color: #666;
        }
        
        .loading i {
            font-size: 24px;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                gap: 15px;
            }
            
            .search-container {
                width: 100%;
            }
            
            .dashboard {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="header-content">
            <div class="logo">
                <i class="fas fa-warehouse"></i>
                <h1>Temu Warehouse Rules</h1>
            </div>
            <div class="search-container">
                <input type="text" id="searchInput" placeholder="Search rules...">
                <i class="fas fa-search"></i>
            </div>
        </div>
    </header>

    <div class="container">
        <!-- Dashboard View -->
        <div id="dashboardView" class="dashboard">
            <div class="category-card" data-category="quality">
                <i class="fas fa-search"></i>
                <h3>Quality Inspection</h3>
                <p>Rules for initial warehouse quality checks and return inspections</p>
            </div>
            
            <div class="category-card" data-category="wrongpackage">
                <i class="fas fa-exclamation-triangle"></i>
                <h3>Wrong Package Review</h3>
                <p>Procedures for reviewing wrong package claims and verifying labels</p>
            </div>
            
            <div class="category-card" data-category="logistics">
                <i class="fas fa-truck-exclamation"></i>
                <h3>Logistics Exception</h3>
                <p>Rules for handling self-return logistics exceptions and refund processing</p>
            </div>
        </div>

        <!-- Rules Container -->
        <div id="rulesContainer" class="rules-container">
            <div class="rules-header">
                <button id="backBtn" class="back-btn">
                    <i class="fas fa-arrow-left"></i> Back to Dashboard
                </button>
                <h2 id="categoryTitle">Quality Inspection Rules</h2>
            </div>
            
            <div id="rulesList">
                <!-- Rules will be inserted here -->
            </div>
        </div>

        <!-- Search Results -->
        <div id="searchResults" class="search-results">
            <h2>Search Results</h2>
            <div id="searchResultsList">
                <!-- Search results will be inserted here -->
            </div>
        </div>
    </div>

    <script>
        // Rules data
        const rulesData = {
            quality: [
                {
                    title: "Procedure for 'Initial warehouse quality check - Fewer items returned'",
                    content: `
                        <div class="rule-update">[Updated on April 9, 2025]</div>
                        <h3>Return Warehouse Quality Inspection - Customer Service Second Review (for Multiple Items as well) and Consumer Appeal for Return Without Refund - Customer Service Final Review Unified Annotation Page</h3>
                        
                        <div class="step">
                            <h4>Step 1: Are the warehouse evidence videos/images clear?</h4>
                            <p><strong>Options:</strong></p>
                            <ul>
                                <li>The item is clearly visible // i.e. <span class="highlight">Warehouse evidence is valid</span>, the items in the returned package are visible</li>
                                <li>The video/picture is unclear or does not show the item // i.e <span class="highlight">Warehouse evidence is invalid</span>, unable to confirm the items in the returned package</li>
                            </ul>
                            
                            <p><strong>Select [The item is clearly visible] in the following cases:</strong></p>
                            <ol>
                                <li>The uploaded <span class="highlight">unboxing video</span> of the return package is clear, filmed within the camera's view, and shows either all items being taken out of the package or that the package is empty.</li>
                                <li>If the uploaded <span class="highlight">warehouse inspection video</span> is clear and all items have been taken out and placed on the inspection table at the beginning of the video, the video is also considered valid. <span class="rule-update">[Updated on Oct 1, 2025]</span></li>
                                <li>Even if the video is missing or invalid (e.g., blurry, black screen, actions performed outside the video frame, long or large obstructions, or content unrelated to unpacking), <span class="highlight">clear photos</span> of the returned items have been uploaded, showing identifiable key features of the items.</li>
                            </ol>
                            
                            <p><strong>Select [The video/picture is unclear or does not show the item] in the following cases. After selecting this option, do not proceed to Step 2 — the annotation process ends here:</strong></p>
                            <ol>
                                <li>The warehouse video is missing or invalid (e.g., blurry, black screen, actions performed outside the video frame, long or large obstructions, or content unrelated to unpacking), and no photos are uploaded, or the uploaded photos are also blurry or only show the outside of the package, making the returned items not visible.</li>
                                <li>The warehouse video is clear, but it does not prove that all items were removed from the return package. For example, the video ends while items are still visible inside, or the package still looks full, making it unclear whether it was completely emptied.</li>
                            </ol>
                            
                            <div class="note">
                                <h5>Important notes:</h5>
                                <ul>
                                    <li>The video is not required to start from the moment the package is opened. Considering possible camera delays, it does not need to include the opening of the package or the removal of the first few items.</li>
                                    <li>The video is required to be able to show before it ends that all items are taken out. This is the key requirement. If the video ends with items still inside or the package still looking full, making it unclear whether it was completely emptied, the warehouse handling is considered improper and the video is invalid as evidence.</li>
                                    <li>If all items have been taken out and placed on the inspection table at the beginning of the video, the video is also considered valid. Such videos are equivalent to clear photos of the returned items.</li>
                                </ul>
                            </div>
                        </div>
                        
                        <div class="step">
                            <h4>Step 2: Please verify the number of items the warehouse received in the video.</h4>
                            <p>Customer service must fill in the number of items received by the warehouse based on the video. Please also carefully check whether the photo of the unidentified item matches the item that should be received. Both <span class="highlight">"clearly returned"</span> and <span class="highlight">"suspected returned"</span> items should be counted as returned.</p>
                            
                            <p><strong>Clearly returned:</strong> The video/photo shows the returned item, and key details such as color, model, or size can be accurately verified. Example: A photo clearly shows a returned piece of clothing, with its style and color visible. (Minor color variations caused by camera quality are acceptable.)</p>
                            
                            <p><strong>Suspected returned:</strong> The content of the item is not directly shown in the video/photo, but based on external features such as size, volume, or shape, it can be reasonably inferred as returned. Example: An item flashes by in the video, but its shape and size resemble the router listed in the after-sales request — it can be counted as suspected returned.</p>
                            
                            <ul>
                                <li>If the returned product's inner packaging is not opened in the video, but the box/bag size can reasonably fit the product, it is also counted as suspected returned.</li>
                            </ul>
                            
                            <p><strong>Exception:</strong> For the Azerbaijan site, only clearly returned items are counted as returned. Please refer to the site information in the below position.</p>
                        </div>
                        
                        <div class="step">
                            <h4>Step 3: Annotation item: "Confirmed number of received items in the warehouse"</h4>
                            <p>Customer Service must confirm that this verification has been completed.</p>
                        </div>
                        
                        <div class="step">
                            <h4>Step 4: Fill in the remark and submit to complete:</h4>
                            <p><strong>Recommended remark formats:</strong></p>
                            <ul>
                                <li>Invalid video.</li>
                                <li>Valid video, Item(s) verified.</li>
                                <li>Valid video, Item(s) unable to be verified.</li>
                                <li>Valid video, item unable to be found.</li>
                            </ul>
                        </div>
                        
                        <div class="step">
                            <h4>Step 5: Mark whether the warehouse inspection images/image of the unidentified item are suitable for showing to the customer.</h4>
                            <p><strong>Options (customer service may select multiple):</strong></p>
                            <ol>
                                <li>No issues found, suitable for sharing with the customer</li>
                                <li>Screenshot in Chinese / Temu system screenshot / logistics website screenshot</li>
                                <li>Return items not shown</li>
                                <li>Actual quantity received not displayed //For example, the full number of items is not shown in one piece of evidence, or the number shown is less than the total received</li>
                                <li>Contains information from other packages (e.g., clear labels or barcodes for other packages/items; blurry labels/barcodes can be ignored) // Example of a clear barcode of a non-current return item shown in Fig. 5-3</li>
                                <li>Shows employee information such as faces, tattoos, badges, or work IDs</li>
                                <li>Warehouse workspace is very dirty or messy (e.g., visible stains, dust, or grease on the desk or floor) //Only obvious messiness needs to be checked, not minor mess; examples in Fig. 5-1 and Fig. 5-2</li>
                                <li>Quantity of unidentified items shown in the photo does not match the quantity reported //Example: The image shows 3 unidentified items, but warehouse inspection record shows only 1 unidentified item. See Fig. 5-4</li>
                                <li>Others //If there are other reasons the image is not suitable for showing to the customer, please check this option</li>
                            </ol>
                            
                            <div class="note">
                                <h5>Note:</h5>
                                <p>If option 1 and any other option are selected at the same time, the image will not be shown to the customer. The image will only be shown when option 1 alone is selected.</p>
                            </div>
                        </div>
                    `,
                    keywords: ["warehouse evidence", "video", "picture", "clear", "unclear", "items", "returned", "customer service", "annotation", "verified", "invalid", "unboxing", "inspection", "package", "empty", "blurry", "black screen", "obstructions", "unrelated", "photos", "key features", "removed", "completely emptied", "camera delays", "improper", "clearly returned", "suspected returned", "color", "model", "size", "shape", "router", "inner packaging", "Azerbaijan", "remark", "submit", "suitable", "customer", "Chinese", "logistics", "quantity", "barcodes", "employee information", "dirty", "messy", "unidentified items"]
                }
            ],
            wrongpackage: [
                {
                    title: "Wrong Package Second Review-External",
                    content: `
                        <div class="step">
                            <h4>Key Principles</h4>
                            <ol>
                                <li>The <span class="highlight">package label</span> and the <span class="highlight">shipping label</span> are two separate labels and exist independently. You cannot use the package number on the shipping label for reference when marking.</li>
                                <li>Each step does not correspond to just one photo. Please check all the photos provided by the customer for each step, as the customer might have mixed up the shipping label and the package label or uploaded photos of them together.</li>
                            </ol>
                        </div>
                        
                        <div class="step">
                            <h4>Step 1: Check if the shipping label and the package label are from the same package</h4>
                            <p>If they are not from the same package, please select "Not uploaded".</p>
                            <p>If they are from the same package, or if it cannot be determined, please proceed to Step 2.</p>
                            
                            <div class="example-box">
                                <h5>Example of two labels NOT from the same packages</h5>
                                <p>The shipping label uploaded by the user is on a gray plastic bag, but the package label uploaded is on a cardboard box, so these are obviously two different packages.</p>
                            </div>
                        </div>
                        
                        <div class="step">
                            <h4>Step 2: Is the Logistics Tracking Number correct?</h4>
                            <p>Customer service should check the photo of the shipping label against the logistics tracking number.</p>
                            <ul>
                                <li>If they do not match, select "Not uploaded" for both the package label and the shipping label.</li>
                                <li>If it can be confirmed that the photo uploaded by the user is obviously a fake one downloaded from the internet or has clear signs of being edited, select "Not uploaded" for both the package label and the shipping label.</li>
                                <li>If they match, select "Yes".</li>
                                <li>If the customer has not provided a clear photo of the shipping label, or the uploaded photo is unclear and unidentifiable, select "Not uploaded" for the shipping label.</li>
                            </ul>
                            
                            <div class="example-box">
                                <h5>Example of a non-real photo downloaded from the Internet</h5>
                                <ol>
                                    <li>The packaging label and shipping label uploaded by the user are clearly not taken with a mobile phone.</li>
                                    <li>They are clearly sourced from an online search and downloaded.</li>
                                </ol>
                                
                                <h5>PS-generated shipping label</h5>
                                <p>If you encounter this package photo, select "Not Uploaded" and note: "Evidence suspected to be fraudulent."</p>
                            </div>
                        </div>
                        
                        <div class="step">
                            <h4>Step 3: Is the Package(Parcel) Number correct?</h4>
                            <p>Customer service should check the photo of the package label against the package number and the "packing time".</p>
                            
                            <div class="note">
                                <h5>Note:</h5>
                                <ol>
                                    <li>The package label is usually smaller in size and is an independent label starting with "BG-". Please note that the shipping label is usually larger and may cover a portion of the package label, some of which may be on the right side of the package label.</li>
                                    <li>The packing time refers to the time when the package was packed, and the time printed on the package label should match the packing time. (refers to the same day).</li>
                                </ol>
                            </div>
                            
                            <ul>
                                <li>If the label code and packing time are consistent, please select "Yes".</li>
                                <li>If the label code remains consistent, but the packing time differs, please select "Not uploaded".</li>
                                <li>If the label code and packing time are inconsistent and there are no signs of the photo being edited, please select "No".</li>
                                <li>If the customer has not provided a clear photo of the package label, or the uploaded photo is unclear and unidentifiable, select "Not uploaded".</li>
                                <li>If the package label in the uploaded photo is incomplete, and visible parts do not match the package number, but the packing time is consistent, select "No".</li>
                                <li>If the package label in the uploaded photo is incomplete, and it cannot be confirmed if it matches the package number, select "Not uploaded".</li>
                                <li>If encountering a fake package label as shown in the example on the right, select "Not uploaded" for both the shipping label and the package label, and note "Evidence appears to be fraudulent".</li>
                            </ul>
                            
                            <div class="note">
                                <h5>Note:</h5>
                                <p>If the shipping label covers the package label's time, you can ignore the process of determining the packaging time.</p>
                            </div>
                            
                            <div class="example-box">
                                <h5>Example of how to check if the packing time is consistent</h5>
                                <p>Check the packing time on the annotation workbench against the one printed on the package label.</p>
                            </div>
                        </div>
                        
                        <div class="step">
                            <h4>Step 4: Add note and complete</h4>
                            <p>Document findings and finalize the review process.</p>
                        </div>
                    `,
                    keywords: ["package label", "shipping label", "separate labels", "same package", "tracking number", "logistics", "fake", "edited", "package number", "packing time", "BG-", "inconsistent", "incomplete", "fraudulent", "annotation workbench"]
                }
            ],
            logistics: [
                {
                    title: "Return and refund by self-return - Logistics exception",
                    content: `
                        <div class="step">
                            <h4>Overview</h4>
                            <p>In a number of self-return requests, after the user ships the return and uploads the tracking number, the merchant has not received the package, preventing the refund from being processed.</p>
                            <p>To address this, we are now implementing a process for orders where the merchant has not received the return more than 30 days after it was shipped.</p>
                            
                            <p><strong>In self-return cases, merchants can select one of the following package statuses:</strong></p>
                            <ul>
                                <li><span class="highlight">Tracking not updated, but package actually delivered</span></li>
                                <li><span class="highlight">Package in transit, shipping in progress normally</span> — indicates the merchant opts to provide proof later.</li>
                                <li><span class="highlight">Abnormal delivery</span> — indicates the merchant opts to reject the refund and provide proof.</li>
                            </ul>
                            
                            <p><strong>Under Abnormal delivery, merchants can select one of the following rejection reasons:</strong></p>
                            <ul>
                                <li><span class="highlight">Duplicate tracking number</span> — both Order A and Order B use the same return tracking number. The merchant must provide screenshots of the after-sales details pages for both orders as evidence.</li>
                                <li><span class="highlight">Abnormal return shipment</span> — no tracking updates beyond "shipment created" or "package picked up."</li>
                                <li><span class="highlight">Tracking or shipping paused</span>— the latest tracking update is over 7 calendar days old with no further progress, or the carrier's website has announced service suspension.</li>
                                <li><span class="highlight">Delivered at a different location</span> — the return package was marked as delivered, but the delivery address does not match the warehouse location.</li>
                            </ul>
                        </div>
                        
                        <div class="scenario">
                            <h4>Scenario 1: The merchant has declined the refund request and submitted proof</h4>
                            
                            <div class="step">
                                <h4>Step 1: Compare the tracking number provided by the user with the one submitted by the merchant</h4>
                                <ul>
                                    <li>a. If the tracking numbers match → Proceed to Step 2</li>
                                    <li>b. If the tracking numbers do not match → Reject the merchant</li>
                                </ul>
                                <p>Check whether the tracking number provided by the merchant on the logistics website matches the return tracking number shown in the Workbench.</p>
                            </div>
                            
                            <div class="step">
                                <h4>Step 2: Check whether the tracking number provided by the user has been used previously</h4>
                                <ul>
                                    <li>a. If the tracking number has been used → Support the merchant</li>
                                    <li>b. If the tracking number has not been used → Proceed to Step 3</li>
                                </ul>
                                <p>If the merchant has not provided any proof related to the tracking number, or the notes do not mention a duplicate tracking number issue, the agent may directly select [b. User has not used it before]</p>
                                
                                <div class="note">
                                    <h5>Requirements for merchant proof:</h5>
                                    <ol>
                                        <li>The merchant must provide a full screenshot of the official logistics tracking page, with all text clearly visible. The tracking number must be included in the image.</li>
                                        <li>The merchant must also provide a full screenshot of the after-sales request details page showing the same tracking number. The content must be clear and legible.</li>
                                    </ol>
                                    <p>You should then check whether the same tracking number is used for different orders.</p>
                                </div>
                            </div>
                            
                            <div class="step">
                                <h4>Step 3: Check in the tracking information if the package is marked as delivered</h4>
                                <ul>
                                    <li>a. If delivered → Proceed to Step 6</li>
                                    <li>b. If not delivered → Proceed to Step 4</li>
                                </ul>
                                <p>Check the tracking status to see if the package has been delivered</p>
                                
                                <div class="note">
                                    <h5>Note:</h5>
                                    <p>If the merchant has not provided official tracking information from the carrier's website and it is unable to determine whether the package has been well delivered, check the tracking via 17track or the official website of the carrier. If the carrier's website shows no tracking, proceed with "a. Delivered".</p>
                                </div>
                            </div>
                            
                            <div class="step">
                                <h4>Step 4: Check in the tracking information if the package has not been picked up or shows no further tracking after pickup</h4>
                                <ul>
                                    <li>a. If not picked up or no further tracking after pickup → Support the merchant</li>
                                    <li>b. If picked up and there is further tracking → Proceed to Step 5</li>
                                </ul>
                                <p>The merchant must provide a complete screenshot of the logistics tracking from the official website. The text in the image must be clear and visible, showing no further tracking information other than the creation or pickup of the shipment.</p>
                                
                                <div class="example-box">
                                    <h5>Example:</h5>
                                    <p>Tracking shows "Package picked up" with no further updates.</p>
                                </div>
                            </div>
                            
                            <div class="step">
                                <h4>Step 5: Check whether the latest tracking status shows any issues (e.g., package lost, shipping suspended, or no updates for over 7 calendar days)</h4>
                                <ul>
                                    <li>a. If there are tracking issues → Support the merchant</li>
                                    <li>b. If tracking is normal and updating → Reject the merchant</li>
                                </ul>
                                <p>The merchant must provide a complete screenshot of the official tracking information, with clearly visible and identifiable tracking details. Either of the following conditions must be met:</p>
                                <ul>
                                    <li>The most recent tracking update is more than 7 calendar days old, with no further updates.</li>
                                    <li>An official notice or statement from the carrier regarding tracking disruption, or a clear screenshot of a confirmed shipping suspension from the official website.</li>
                                </ul>
                                
                                <div class="example-box">
                                    <h5>Example:</h5>
                                    <p>Tracking shows "Package lost" or "Shipping suspended" with official carrier notice.</p>
                                </div>
                            </div>
                            
                            <div class="step">
                                <h4>Step 6: Compare the delivery address with the warehouse address used by the user at the time of return</h4>
                                <ul>
                                    <li>a. If the addresses match or the distance is less than 5 miles (8 km) → Reject the merchant</li>
                                    <li>b. If the distance is greater than 5 miles (8 km) → Support the merchant</li>
                                </ul>
                                <p>The merchant must provide a complete screenshot of the official tracking information. The image must include the final delivery address, which must be clearly visible and show the full detailed address. Either of the following conditions must be met:</p>
                                <ul>
                                    <li>The delivery address matches the merchant's historical or latest warehouse address</li>
                                    <li>The delivery address is within 5 miles (8 km) of the merchant's historical or latest warehouse address</li>
                                </ul>
                                
                                <div class="note">
                                    <h5>Special scenarios:</h5>
                                    <p>In the following scenarios, there is no need to determine the exact distance between the delivery address and the merchant's warehouse address.</p>
                                    <ol>
                                        <li>If the delivery address matches the country/province/city but the merchant fails to provide detailed address-level proof (e.g., street or building), making it impossible to determine whether it was delivered to the wrong location, please select [a. Delivery and warehouse addresses match or are within 8 km of each other].</li>
                                        <li>If the country/province/city of the delivery address does not match, please select [b. Delivery and warehouse addresses are at least 8 km apart].</li>
                                        <li>The package was returned to Temu's fully managed warehouse, but the merchant did not provide a warehouse address, making it impossible to determine if the package was delivered to a different location. Please proceed with "a. Delivery and warehouse addresses match or are within 8 km of each other"</li>
                                    </ol>
                                </div>
                                
                                <div class="note">
                                    <h5>Tracking retention period:</h5>
                                    <p>If the carrier's website shows no tracking, check whether the return shipment date exceeds the carrier's tracking retention period, which would prevent tracking information from being available:</p>
                                    <ul>
                                        <li>If the shipment date exceeds the carrier's tracking retention period (e.g., the user sent the return in March 2025, exceeding UPS's 120-day tracking retention, resulting in no available tracking):
                                            <ul>
                                                <li>If the merchant has a "Merchants with high rejection rate" label, or the user is a C3–C5 risk control-verified user, reject the merchant.</li>
                                                <li>Otherwise, support the merchant.</li>
                                            </ul>
                                        </li>
                                        <li>If the shipment date is within the carrier's tracking retention period, but no tracking is found on the carrier's website, support the merchant.</li>
                                    </ul>
                                </div>
                                
                                <div class="note">
                                    <h5>Information required from the merchant:</h5>
                                    <ol>
                                        <li>The merchant must provide a complete screenshot of the official tracking information. The image must include the final delivery address, which must be clearly visible and show the full detailed address. The tracking number must be included in the image.</li>
                                        <li>The merchant must provide a screenshot of the after-sales details page clearly showing the warehouse information. The product details in the screenshot must match those in the user's request.</li>
                                        <li>The merchant must provide a screenshot showing the distance between the delivery address and the warehouse address. The image must clearly show a distance of over 5 miles (8 km). (You may also verify this yourself.) Make sure the addresses match the warehouse address and the return package's delivery address.</li>
                                    </ol>
                                </div>
                            </div>
                        </div>
                        
                        <div class="scenario">
                            <h4>Scenario 2: The merchant has chosen to provide more proof at a later time</h4>
                            
                            <div class="step">
                                <h4>Step 1: Compare the tracking number provided by the user with the one submitted by the merchant</h4>
                                <ul>
                                    <li>a. If the tracking numbers match → Proceed to Step 2</li>
                                    <li>b. If the tracking numbers do not match → Reject the merchant</li>
                                </ul>
                                <p>Check whether the tracking number provided by the merchant on the logistics website matches the return tracking number shown in the Workbench.</p>
                            </div>
                            
                            <div class="step">
                                <h4>Step 2: Check if the tracking information has been updated within the past 7 calendar days at the time the merchant provides proof</h4>
                                <ul>
                                    <li>a. If there is an update → Postpone the handling</li>
                                    <li>b. If there is no update → Reject the merchant's claim</li>
                                </ul>
                                <p>The merchant must provide a complete screenshot of the official tracking information. The image must clearly show identifiable tracking updates within the past 7 calendar days.</p>
                            </div>
                        </div>
                    `,
                    keywords: ["self-return", "logistics exception", "tracking number", "merchant", "refund", "proof", "delivered", "not delivered", "picked up", "no tracking", "shipping suspended", "delivery address", "warehouse address", "5 miles", "8 km", "tracking retention period", "C3-C5 risk control", "7 calendar days", "postpone handling", "reject merchant", "support merchant"]
                }
            ]
        };

        // DOM elements
        const dashboardView = document.getElementById('dashboardView');
        const rulesContainer = document.getElementById('rulesContainer');
        const rulesList = document.getElementById('rulesList');
        const categoryTitle = document.getElementById('categoryTitle');
        const backBtn = document.getElementById('backBtn');
        const searchInput = document.getElementById('searchInput');
        const searchResults = document.getElementById('searchResults');
        const searchResultsList = document.getElementById('searchResultsList');

        // Category cards
        const categoryCards = document.querySelectorAll('.category-card');

        // Event listeners
        categoryCards.forEach(card => {
            card.addEventListener('click', () => {
                const category = card.getAttribute('data-category');
                showCategoryRules(category);
            });
        });

        backBtn.addEventListener('click', () => {
            dashboardView.style.display = 'grid';
            rulesContainer.style.display = 'none';
            searchResults.style.display = 'none';
        });

        searchInput.addEventListener('input', (e) => {
            const searchTerm = e.target.value.toLowerCase().trim();
            
            if (searchTerm === '') {
                dashboardView.style.display = 'grid';
                rulesContainer.style.display = 'none';
                searchResults.style.display = 'none';
                return;
            }
            
            searchRules(searchTerm);
        });

        // Functions
        function showCategoryRules(category) {
            const categoryNames = {
                quality: 'Quality Inspection Rules',
                wrongpackage: 'Wrong Package Review',
                logistics: 'Logistics Exception Rules'
            };
            
            categoryTitle.textContent = categoryNames[category];
            rulesList.innerHTML = '<div class="loading"><i class="fas fa-spinner"></i> Loading rules...</div>';
            
            // Use setTimeout to allow the loading indicator to appear
            setTimeout(() => {
                const fragment = document.createDocumentFragment();
                const rules = rulesData[category];
                
                rules.forEach(rule => {
                    const ruleCard = document.createElement('div');
                    ruleCard.className = 'rule-card';
                    ruleCard.innerHTML = rule.content;
                    fragment.appendChild(ruleCard);
                });
                
                rulesList.innerHTML = '';
                rulesList.appendChild(fragment);
            }, 100);
            
            dashboardView.style.display = 'none';
            rulesContainer.style.display = 'block';
            searchResults.style.display = 'none';
        }

        function searchRules(searchTerm) {
            searchResultsList.innerHTML = '';
            let hasResults = false;
            
            // Search through all categories and rules
            Object.keys(rulesData).forEach(category => {
                rulesData[category].forEach(rule => {
                    const titleMatch = rule.title.toLowerCase().includes(searchTerm);
                    const keywordMatch = rule.keywords.some(keyword => 
                        keyword.toLowerCase().includes(searchTerm)
                    );
                    
                    if (titleMatch || keywordMatch) {
                        hasResults = true;
                        const resultItem = document.createElement('div');
                        resultItem.className = 'search-result-item';
                        resultItem.innerHTML = `
                            <h3>${highlightText(rule.title, searchTerm)}</h3>
                            <p>Category: ${getCategoryName(category)}</p>
                        `;
                        
                        resultItem.addEventListener('click', () => {
                            showCategoryRules(category);
                        });
                        
                        searchResultsList.appendChild(resultItem);
                    }
                });
            });
            
            if (!hasResults) {
                searchResultsList.innerHTML = '<div class="no-results">No rules found matching your search.</div>';
            }
            
            dashboardView.style.display = 'none';
            rulesContainer.style.display = 'none';
            searchResults.style.display = 'block';
        }

        function getCategoryName(category) {
            const categoryNames = {
                quality: 'Quality Inspection',
                wrongpackage: 'Wrong Package Review',
                logistics: 'Logistics Exception'
            };
            
            return categoryNames[category];
        }

        function highlightText(text, searchTerm) {
            if (!searchTerm) return text;
            
            const regex = new RegExp(`(${searchTerm})`, 'gi');
            return text.replace(regex, '<span class="highlight">$1</span>');
        }
    </script>
</body>
</html>
